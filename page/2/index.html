<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>第 2 页 | coordinate</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  
  
  
  <meta property="og:type" content="website">
<meta property="og:title" content="coordinate">
<meta property="og:url" content="http://coordinate.wang/page/2/index.html">
<meta property="og:site_name" content="coordinate">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="coordinate">
  
    <link rel="alternate" href="/atom.xml" title="coordinate" type="application/atom+xml">
  
  <link rel="icon" href="/css/images/favicon.ico">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/9749f0/00000000000000000001008f/27/l?subset_id=2&fvd=n5) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/90cf9f/000000000000000000010091/27/l?subset_id=2&fvd=n7) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/8a5494/000000000000000000013365/27/l?subset_id=2&fvd=n4) format("woff2");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/d337d8/000000000000000000010095/27/l?subset_id=2&fvd=i4) format("woff2");font-weight:400;font-style:italic;}</style>
    
  <link rel="stylesheet" id="athemes-headings-fonts-css" href="//fonts.googleapis.com/css?family=Yanone+Kaffeesatz%3A200%2C300%2C400%2C700&amp;ver=4.6.1" type="text/css" media="all">

  <link rel="stylesheet" id="athemes-headings-fonts-css" href="//fonts.googleapis.com/css?family=Oswald%3A300%2C400%2C700&amp;ver=4.6.1" type="text/css" media="all">
  <link rel="stylesheet" href="/css/style.css">

  <script src="/js/jquery-3.1.1.min.js"></script>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="/css/bootstrap.css" >
  <link rel="stylesheet" href="/css/fashion.css" >
  <link rel="stylesheet" href="/css/glyphs.css" >

</head>



  <body>


  
  
  <div class="site-header-image">
    <img id="originBg" width="100%" alt="Hike News" src="">
  </div>

  <div id="header-blur" class="site-header-image blur" style="position: absolute; top:0; height: 207px; min-height: 207px; min-width: 100%;">
    <img id="blurBg" width="100%" style="top: 96%" alt="Hike News" src="">
  </div>

  <script>
        var imgUrls = "css/images/pose01.jpg,https://source.unsplash.com/collection/954550/1920x1080,https://source.unsplash.com/collection/954550/1920x1081".split(",");
        var random = Math.floor((Math.random() * imgUrls.length ));
        if (imgUrls[random].startsWith('http') || imgUrls[random].indexOf('://') >= 0) {
          document.getElementById("originBg").src=imgUrls[random];
          document.getElementById("blurBg").src=imgUrls[random];
        } else {
          document.getElementById("originBg").src='/' + imgUrls[random];
          document.getElementById("blurBg").src='/' + imgUrls[random];
        }
    </script>




<header id="allheader" class="site-header" role="banner" 
   style="width: 100%; position: absolute; top:0; background: rgba(255,255,255,.8);"  >
  <div class="clearfix container">
      <div class="site-branding">

          <h1 class="site-title">
            
              <a href="/" title="coordinate" rel="home"> coordinate </a>
            
          </h1>
          
          
            
          <nav id="main-navigation" class="main-navigation" role="navigation">
            <a class="nav-open">Menu</a>
            <a class="nav-close">Close</a>

            <div class="clearfix sf-menu">
              <ul id="main-nav" class="menu sf-js-enabled sf-arrows"  style="touch-action: pan-y;">
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/">首页</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/archives">归档</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/categories">分类</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/tags">标签</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/about">关于</a> </li>
                    
              </ul>
            </div>
          </nav>

      </div>
  </div>
</header>


  <div id="container">
    <div id="wrap">
            
      <div id="content" class="outer">
        
          <section id="main">
  
    <article id="post-2017-12-02-MNIST对于机器学习的初学者"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/12/02/2017-12-02-MNIST对于机器学习的初学者/">Tensorflow学习始于MNIST</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2017/12/02/2017-12-02-MNIST对于机器学习的初学者/" class="article-date">
	  <time datetime="2017-12-01T16:00:00.000Z" itemprop="datePublished">十二月 2, 2017</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/机器学习/">机器学习</a>
 
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>本教程面向刚学习机器学习和TensorFlow的读者。 如果您已经知道MNIST是什么，以及softmax（multinomial logistic）回归是什么，那么您可能更喜欢这个速度更快的教程。 确保在开始任何教程之前安装TensorFlow。</p>
<p>当学习如何编程时，首先要做的就是打印“Hello World”。 类似于编程中的Hello World，机器学习对应的是MNIST。</p>
<p>MNIST是一个简单的计算机视觉数据集。 它由这样的手写数字的图像组成：</p>
<center class="half"><br><img src="http://wx2.sinaimg.cn/mw690/af2d2659ly1fm39zn5effj20c3030weh.jpg"><br></center>

<p>它还包括每个图像的标签，告诉我们它是哪个数字。 例如，上述图像的标签是5,0,4和1。</p>
<p>在本教程中，我们将训练一个模型来查看图像并预测它们是什么数字。 我们的目标不是训练一个真正精细的模型来实现最先进的性能 - 尽管我们稍后会给您提供代码！ - 而是倾向于使用TensorFlow去实现它的。 因此，我们将从一个非常简单的模型开始，称之为Softmax回归。</p>
<p>本教程的实际代码非常短，所有有趣的内容都只发生在三行中。 然而，了解其背后的理念非常重要：TensorFlow的工作原理和核心机器学习概念。 正因为如此，我们要非常仔细的了解代码内部的细节。</p>
<h2 id="关于本教程"><a href="#关于本教程" class="headerlink" title="关于本教程"></a>关于本教程</h2><p>本教程是逐行解释<a href="https://www.github.com/tensorflow/tensorflow/blob/r1.4/tensorflow/examples/tutorials/mnist/mnist_softmax.py" target="_blank" rel="noopener">mnist_softmax.py</a>代码中做了什么的事情。</p>
<p>您可以通过几种不同的方式使用本教程，其中包括：</p>
<ul>
<li>阅读每行的解释时，将每个代码段逐行复制并粘贴到Python环境中。</li>
<li>在阅读解释之前或之后运行整个<code>mnist_softmax.py</code> Python文件，并使用本教程来理解不清楚的代码行。</li>
</ul>
<p>我们将在本教程中完成的任务：</p>
<ul>
<li>了解MNIST数据和softmax回归</li>
<li>基于查看图像中的每个像素，创建一个识别数字的模型</li>
<li>使用TensorFlow来训练模型，通过让数字“看”数千个示例来识别数字（并运行我们的第一个TensorFlow会话来完成）</li>
<li>用我们的测试数据检查模型的准确性</li>
</ul>
<h2 id="MNIST数据"><a href="#MNIST数据" class="headerlink" title="MNIST数据"></a>MNIST数据</h2><p>MNIST数据在<a href="http://yann.lecun.com/exdb/mnist/" target="_blank" rel="noopener">Yann LeCun</a>的网站上托管。如果您正在复制和粘贴本教程中的代码，请从这两行代码开始，它们将自动下载并读取数据：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> tensorflow.examples.tutorials.mnist <span class="keyword">import</span> input_data</span><br><span class="line">mnist = input_data.read_data_sets（“MNIST_data /”，one_hot = <span class="keyword">True</span>）</span><br></pre></td></tr></table></figure>
<p>MNIST数据分为三个部分：55,000个训练数据（<code>mnist.train</code>）的数据点，10,000个测试数据（<code>mnist.test</code>），以及5,000个验证数据（<code>mnist.validation</code>）。这种分组是非常重要的：机器学习过程中必须要有不能学习到的独立数据，这样我们才能确保我们学到的东西实际上是泛化的！</p>
<p>如前所述，每个MNIST数据点有两部分：一个手写数字的图像和一个相应的标签。我们将调用图像“x”和标签“y”。训练集和测试集都包含图像及其相应的标签;例如训练图像是<code>mnist.train.images</code>，训练标签是<code>mnist.train.labels</code>。</p>
<p>每个图像是28像素×28像素。我们可以把它解释为一大堆数字：</p>
<center class="half"><br><img src="http://wx3.sinaimg.cn/mw690/af2d2659ly1fm39znolbjj20f205r74o.jpg"><br></center>

<p>我们可以把这个数组变成一个28x28 = 784的数字。 只要我们在图像之间保持一致，那么我们如何展开阵列并不重要。 从这个角度来看，MNIST图像只是784维矢量空间中的一束点，具有非常丰富的结构（警告：计算密集的可视化）。</p>
<p>展平数据会丢弃有关图像二维结构的信息。这样不是不好吗？ 确实，最好的计算机视觉方法就是利用这个原有结构，我们将在后面的教程中这样去做。 但是这里我们将使用简单方法，softmax回归（下面定义）。</p>
<p><code>mnist.train.images</code>的结果是一个形状为[55000，784]的张量（一个n维数组）。 第一维是图像列表的索引，第二维是每个图像中每个像素的索引。 张量中的每个条目是针对特定图像中的特定像素的介于0和1之间的像素强度。</p>
<center class="half"><br><img src="http://wx1.sinaimg.cn/mw690/af2d2659ly1fm39zoohhxj20eh05v0sx.jpg"><br></center>

<p>MNIST中的每个图像都有相应的标签，0到9之间的数字代表图像中绘制的数字。</p>
<p>为了本教程的目的，我们将要我们的标签作为“one-hot vectors”。one-hot矢量是一个在多维度上为0，在单维度上为1的矢量。 在这种情况下，第n位将被表示为在第n维中为1的向量。 例如，3将是[0,0,0,1,0,0,0,0,0,0]。 因此，<code>mnist.train.labels</code>是一个[55000，10]的浮点数组。</p>
<center class="half"><br><img src="http://wx3.sinaimg.cn/mw690/af2d2659ly1fm39zpbpihj20c304e747.jpg"><br></center>

<p>我们现在开始制作我们的模型！</p>
<h2 id="Softmax回归"><a href="#Softmax回归" class="headerlink" title="Softmax回归"></a>Softmax回归</h2><p>我们知道MNIST中的每个图像都是一个0到9之间的手写数字。所以一个给定的图像可能只有十种可能。我们希望能够看到一个图像，并给出它是每个数字的概率。例如，我们的模型可能会查看一张数字9的图片，并且有80％确定这是一张数字9的图片，但是给出一个5％的概率是因为它是一个8（因为上面弧形），并且有一些概率是其他数字，这不是100％确定。</p>
<p>这是一个softmax回归简单模型的一个经典案例。如果你想把一个对象的概率分配给几个不同的东西之一，softmax就是要做的事情，因为softmax给了我们一个0到1之间的值的列表，加起来就是1。在学习的后期，当我们训练更复杂的网络，最后一步将是softmax的一层。</p>
<p>softmax回归有两个步骤：首先我们将输入的特征加在某些类别中，然后将特征转换成概率。</p>
<p>为了收集给定图像在特定类别中的特征，我们进行像素强度的加权总和。如果具有高强度的像素是针对在该类别中的图像的特征，则权重是负的;如果特征是有利的，则权重是正的。</p>
<p>下图显示了一个模型在每个类中学习的权重。红色代表负面权重，蓝色代表正面权重。</p>
<center class="half"><br><img src="http://wx1.sinaimg.cn/mw690/af2d2659ly1fm39zpyim8j20d706pgnn.jpg"><br></center>

<p>我们还添加了一些额外的参数，称为bias。 基本上，我们希望有些东西能够更好的独立于输入。 结果是，热议一个输入x的类，得到的结果是：</p>
<ul>
<li>$evidence_i = \sum_jW_i,_jx_j+b_i$</li>
</ul>
<p>其中Wi是权重，bi是类别i的偏差，j是对输入图像x中的像素求和的指数。 然后，我们使用“softmax”函数将特征数据转换成我们的预测概率y：</p>
<ul>
<li>$y = softmax(evidence)$</li>
</ul>
<p>这里softmax是作为一个“激活”或“链接”功能，塑造我们的线性函数的输出到我们想要的形式 - 在这种情况下，概率分布超过10个案例。 你可以把它看作是将特征转化为我们在每个类型中输入的概率。 它被定义为：</p>
<ul>
<li>$softmax(evidence) = normalize(exp(evidence))$</li>
</ul>
<p>如果你展开这个等式，你会得到：</p>
<ul>
<li>$softmax(evidence)_i = \frac{exp(evidence_i)}{\sum_jexp(evidence_j)}$</li>
</ul>
<p>但是，首先考虑softmax是更有帮助的：指数化输入，然后使其规格化。 指数意味着每多一个单位的特征将增加任何前向乘加的权重。 而相反，每少一个特征单位意味着每一个前向获得了上一层权重的一小部分。 没有前向的层为零或负权重。 Softmax然后归一化这些权重，使它们加起来为1，形成有效的概率分布。 （为了获得有关softmax函数的更多直觉，请查看Michael Nielsen书中的部分，并附带交互式可视化。）</p>
<p>你可以把我们的softmax回归看成如下所示，尽管有更多的xs。 对于每个输出，我们计算xs的加权总和，添加偏差，然后应用softmax。</p>
<center class="half"><br><img src="http://wx2.sinaimg.cn/mw690/af2d2659ly1fm39zqkwujj20gv06w761.jpg"><br></center>

<p>如果我们把它写成等式，我们得到：</p>
<center class="half"><br><img src="http://wx1.sinaimg.cn/mw690/af2d2659ly1fm39zr7ql7j20g4045dgl.jpg"><br></center>

<p>我们可以“矢量化”这个过程，把它变成矩阵乘法和矢量加法。 这对于计算效率是有帮助的。 （这也是一个有用的思考方式。）</p>
<center class="half"><br><img src="http://wx2.sinaimg.cn/mw690/af2d2659ly1fm39zrviu2j20f7043wf0.jpg"><br></center>

<p>更简洁，我们可以写：</p>
<ul>
<li>$y = softmax(Wx + b)$</li>
</ul>
<p>现在让我们把它转换成TensorFlow可以使用的东西。</p>
<h2 id="实现回归"><a href="#实现回归" class="headerlink" title="实现回归"></a>实现回归</h2><p>为了在Python中进行高效的数值计算，我们通常使用像NumPy这样的库，这些库会执行复杂的操作，例如Python中的矩阵乘法，可以使用另一种语言实现的高效代码来完成。 不幸的是，每一次操作都会返回到Python，这仍然会有很多开销。 如果要在GPU上运行计算或以分布式方式运行计算，则传输数据的成本很高，所以此开销尤其糟糕。</p>
<p>TensorFlow也在Python之外进行繁重的工作，但是为了避免这种开销，还需要进一步的工作。 TensorFlow不是独立于Python运行的一个复杂操作，而是让我们描述一个完全在Python之外运行的交互操作图。 （像这样的方法可以在几个机器学习库中看到）</p>
<p>要使用TensorFlow，首先我们需要导入它。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br></pre></td></tr></table></figure>
<p>我们通过操纵符号变量来描述这些交互操作。 我们来创建一个：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x = tf.placeholder(tf.float32, [<span class="keyword">None</span>, <span class="number">784</span>])</span><br></pre></td></tr></table></figure>
<p><code>x</code>不是一个具体的值。 这是一个占位符，当我们要求TensorFlow运行一个计算时，我们会输入一个值。 我们希望能够输入任意数量的MNIST图像，每个图像被平面化成784维向量。 我们将其表示为浮点数的二维张量，其形状为<code>[None，784]</code>。 （这里<code>None</code>表示维度可以是任何长度。）</p>
<p>我们也需要我们的模型的权重和biases。 我们可以想象把这些看作是额外的输入，但是TensorFlow有一个更好的方法来处理它：Variable（变量）。 变量是一个可修改的张量，它存在于TensorFlow的交互操作图中。 它可以被使用，甚至被计算修改。 对于机器学习应用程序，通常将模型参数设置为变量。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">W = tf.Variable(tf.zeros([<span class="number">784</span>, <span class="number">10</span>]))</span><br><span class="line">b = tf.Variable(tf.zeros([<span class="number">10</span>]))</span><br></pre></td></tr></table></figure>
<p>我们通过给定变量的初始值来创建这些变量：在这种情况下，我们将W和b初始化为全0的张量。 既然我们要学习W和b，它们最初是什么都没有关系。</p>
<p>注意到W的形状是[784，10]，因为我们想用它乘以784维的图像向量来产生差分类的特征的10维向量。 b的形状是[10]，所以我们可以将它添加到输出中。</p>
<p>我们现在可以实现我们的模型。 只需要一行来定义它！</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">y = tf.nn.softmax(tf.matmul(x, W) + b)</span><br></pre></td></tr></table></figure>
<p>首先，我们乘以<code>W</code>乘以表达式<code>tf.matmul（x，W）</code>。这是从我们的方程中乘以它们的时候翻转过来的，这里我们把Wx作为一个小技巧来处理x是一个具有多个输入的2D张量。然后我们添加b，最后应用<code>tf.nn.softmax</code>。</p>
<p>而已。经过几行简单的设置之后，我们只用一条线来定义我们的模型。这并不是因为TensorFlow被设计成使得softmax回归特别容易：从机器学习模型到物理模拟，这只是描述多种数值计算的一种非常灵活的方式。一旦定义，我们的模型可以在不同的设备上运行：计算机的CPU，GPU，甚至是手机！</p>
<h2 id="训练"><a href="#训练" class="headerlink" title="训练"></a>训练</h2><p>为了训练我们的模型，我们需要定义模型的好坏。那么实际上，在机器学习中，我们通常定义一个模型的坏的意义。我们称之为成本或损失，它表示我们的模型离我们期望的结果有多远。我们尽量减少这个误差，误差越小，我们的模型就越好。</p>
<p>非常常见的，确定模型的损失函数被称为“交叉熵”。交叉熵来源于信息论中信息压缩编码的思想，但在赌博，机器学习等许多领域，都是一个重要的思想。它被定义为：</p>
<ul>
<li>$H_{y’}=-\sum{y_i’log(y_i)}$</li>
</ul>
<p>其中<code>y</code>是我们预测的概率分布，<code>y&#39;</code>是真实分布（带有数字标签的one-hot矢量）。 在一些粗略的意义上，交叉熵是衡量我们的预测是多差的描述。 关于交叉熵的更多细节超出了本教程的范围，但是非常值得理解。</p>
<p>为了实现交叉熵，我们需要首先添加一个新的占位符来输入正确的答案：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">y_ = tf.placeholder(tf.float32, [<span class="keyword">None</span>, <span class="number">10</span>])</span><br></pre></td></tr></table></figure>
<p>那么我们可以实现交叉熵函数，</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cross_entropy = tf.reduce_mean(-tf.reduce_sum(y_ * tf.log(y), reduction_indices=[<span class="number">1</span>]))</span><br></pre></td></tr></table></figure>
<p>首先，<code>tf.log</code>计算<code>y</code>的每个元素的对数。接下来，我们将<code>y_</code>的每个元素与<code>tf.log（y）</code>的相应元素相乘。然后，由于<code>reduction_indices = [1]</code>参数，<code>tf.reduce_sum</code>将元素添加到<code>y</code>的第二维中。最后，<code>tf.reduce_mean</code>计算批处理中所有示例的平均值。</p>
<p>请注意，在源代码中，我们不使用这个公式，因为它在数值上是不稳定的。相反，我们将<code>tf.nn.softmax_cross_entropy_with_logits</code>应用于非标准化的logits（例如，我们把<code>tf.matmul(x，W)+ b</code>）称为<code>softmax_cross_entropy_with_logits</code>，因为这个更稳定的数值函数在内部计算softmax激活。在您的代码中，请考虑使用<code>tf.nn.softmax_cross_entropy_with_logits</code>。</p>
<p>现在我们知道我们想要我们的模型做什么了，TensorFlow很容易训练它做到这一点。因为TensorFlow知道你计算的整个图表，它可以自动使用反向传播算法来有效地确定你的变量如何影响你要求它最小化的损失。然后它可以应用你选择的优化算法来修改变量并减少损失。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">train_step = tf.train.GradientDescentOptimizer(<span class="number">0.5</span>).minimize(cross_entropy)</span><br></pre></td></tr></table></figure>
<p>在这种情况下，我们要求TensorFlow使用学习率为0.5的梯度下降算法来最小化cross_entropy。 梯度下降是一个简单的过程，其中TensorFlow简单地将每个变量稍微向降低成本的方向移动一点。 同时TensorFlow还提供了许多其他优化算法。</p>
<p>实际上TensorFlow在幕后做的是添加新的操作到你的计算图，通过计算图来实现反向传播和梯度下降。 然后它给你一个单一的操作，运行时，做一步梯度下降训练，稍微调整你的变量，以减少损失。</p>
<p>我们现在可以在InteractiveSession中启动模型：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sess = tf.InteractiveSession()</span><br></pre></td></tr></table></figure>
<p>我们首先必须创建一个操作来初始化我们创建的变量：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tf.global_variables_initializer().run()</span><br></pre></td></tr></table></figure>
<p>让我们训练 - 我们将运行1000次的训练步骤！</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> _ <span class="keyword">in</span> range(<span class="number">1000</span>):</span><br><span class="line">  batch_xs, batch_ys = mnist.train.next_batch(<span class="number">100</span>)</span><br><span class="line">  sess.run(train_step, feed_dict=&#123;x: batch_xs, y_: batch_ys&#125;)</span><br></pre></td></tr></table></figure>
<p>循环中的每一步，我们从我们的训练集中获得一百个随机数据点的“batch”。 我们运行train_step并且传回一个字典数据来替换占位符。</p>
<p>使用小批量的随机数据称为随机训练 - 在这里是随机梯度下降。 理想情况下，我们希望将所有数据用于每一步训练，因为这样可以让我们更好地了解我们应该做什么，但是这样做很复杂。 所以相反，我们每次都使用不同的子集。 这样做很简单，而且有很多相同的好处。</p>
<h2 id="评估我们的模型"><a href="#评估我们的模型" class="headerlink" title="评估我们的模型"></a>评估我们的模型</h2><p>怎么评价我们的模型有多好？</p>
<p>那么，首先让我们弄清楚我们预测了多少正确的标签。<code>tf.argmax</code>是一个非常有用的函数，它可以为您提供某个轴上张量的最大输入索引。 例如，<code>tf.argmax(y，1)</code>是我们模型认为对每个输入最有可能的标签，而<code>tf.argmax(y_，1)</code>是正确的标签。 我们可以使用<code>tf.equal</code>来检查我们的预测是否符合事实。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">correct_prediction = tf.equal(tf.argmax(y,<span class="number">1</span>), tf.argmax(y_,<span class="number">1</span>))</span><br></pre></td></tr></table></figure>
<p>这给了我们一个真值表。 为了确定什么分数是正确的，我们转换为浮点数，然后取平均值。 例如，<code>[True，False，True，True]</code>将变成<code>[1,0,1,1]</code>，这将变为<code>0.75</code>。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">accuracy = tf.reduce_mean(tf.cast(correct_prediction, tf.float32))</span><br></pre></td></tr></table></figure>
<p>最后，我们打印出测试数据的准确性。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(sess.run(accuracy, feed_dict=&#123;x: mnist.test.images, y_: mnist.test.labels&#125;))</span><br></pre></td></tr></table></figure>
<p>这应该是大约92％。</p>
<p>这个数据怎么样？事实上很糟糕。 这是因为我们正在使用的是一个非常简单的模型。 通过一些小的改变，可以使我们准确率达到97％。 目前最好的模型可以达到超过99.7％的准确性！ （有关更多信息，请查看结果列表。）</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/机器学习/">机器学习</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MNIST/">MNIST</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/">python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tensorflow/">tensorflow</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-2017-12-01-QT中的QImage、QPixmap和opencv 中的mat转化"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/12/01/2017-12-01-QT中的QImage、QPixmap和opencv 中的mat转化/">QT中的QImage、QPixmap和opencv 中的mat转化</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2017/12/01/2017-12-01-QT中的QImage、QPixmap和opencv 中的mat转化/" class="article-date">
	  <time datetime="2017-11-30T16:00:00.000Z" itemprop="datePublished">十二月 1, 2017</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/QT/">QT</a>
 
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>我们使用QT和opencv的过程中经常会碰到这样的问题：Mat怎么转化位QImage？Mat怎么转化为QPixmap？今天我来告诉大家一个比较好的解决方案（以下代码参考了别人的，增加了一些修改）</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QDebug&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QImage&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QPixmap&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"opencv2/imgproc/imgproc.hpp"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"opencv2/imgproc/types_c.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> CVS </span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// 将Mat转化位QImage</span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> QImage  <span class="title">cvMatToQImage</span><span class="params">( <span class="keyword">const</span> cv::Mat &amp;inMat )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">switch</span> ( inMat.type() )</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="comment">// 8-bit, 4 channel</span></span><br><span class="line">    <span class="keyword">case</span> CV_8UC4:</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function">QImage <span class="title">image</span><span class="params">( inMat.data,</span></span></span><br><span class="line"><span class="function"><span class="params">                      inMat.cols, inMat.rows,</span></span></span><br><span class="line">                      static_cast&lt;int&gt;(inMat.step),</span><br><span class="line">                      QImage::Format_ARGB32 );</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> image;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 8-bit, 3 channel</span></span><br><span class="line">    <span class="keyword">case</span> CV_8UC3:</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function">QImage <span class="title">image</span><span class="params">( inMat.data,</span></span></span><br><span class="line"><span class="function"><span class="params">                      inMat.cols, inMat.rows,</span></span></span><br><span class="line">                      static_cast&lt;int&gt;(inMat.step),</span><br><span class="line">                      QImage::Format_RGB888 );</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> image.rgbSwapped();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 8-bit, 1 channel</span></span><br><span class="line">    <span class="keyword">case</span> CV_8UC1:</span><br><span class="line">    &#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> QT_VERSION &gt;= QT_VERSION_CHECK(5, 5, 0)</span></span><br><span class="line">        <span class="function">QImage <span class="title">image</span><span class="params">( inMat.data,</span></span></span><br><span class="line"><span class="function"><span class="params">                      inMat.cols, inMat.rows,</span></span></span><br><span class="line">                      static_cast&lt;int&gt;(inMat.step),</span><br><span class="line">                      QImage::Format_Grayscale8 );<span class="comment">//Format_Alpha8 and Format_Grayscale8 were added in Qt 5.5</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span><span class="comment">//这里还有一种写法，最后给出</span></span></span><br><span class="line">        <span class="keyword">static</span> QVector&lt;QRgb&gt;  sColorTable;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// only create our color table the first time</span></span><br><span class="line">        <span class="keyword">if</span> ( sColorTable.isEmpty() )</span><br><span class="line">        &#123;</span><br><span class="line">            sColorTable.resize( <span class="number">256</span> );</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> ( <span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">256</span>; ++i )</span><br><span class="line">            &#123;</span><br><span class="line">                sColorTable[i] = qRgb( i, i, i );</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function">QImage <span class="title">image</span><span class="params">( inMat.data,</span></span></span><br><span class="line"><span class="function"><span class="params">                      inMat.cols, inMat.rows,</span></span></span><br><span class="line">                      static_cast&lt;int&gt;(inMat.step),</span><br><span class="line">                      QImage::Format_Indexed8 );</span><br><span class="line"></span><br><span class="line">        image.setColorTable( sColorTable );</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> image;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        qWarning() &lt;&lt; <span class="string">"CVS::cvMatToQImage() - cv::Mat image type not handled in switch:"</span> &lt;&lt; inMat.type();</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> QImage();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//将Mat转化为QPixmap</span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> QPixmap <span class="title">cvMatToQPixmap</span><span class="params">( <span class="keyword">const</span> cv::Mat &amp;inMat )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> QPixmap::fromImage( cvMatToQImage( inMat ) );</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//将QImage转化为Mat</span></span><br><span class="line"><span class="keyword">inline</span> cv::<span class="function">Mat <span class="title">QImageToCvMat</span><span class="params">( <span class="keyword">const</span> QImage &amp;inImage, <span class="keyword">bool</span> inCloneImageData = <span class="literal">true</span> )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">switch</span> ( inImage.format() )</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="comment">// 8-bit, 4 channel</span></span><br><span class="line">    <span class="keyword">case</span> QImage::Format_ARGB32:</span><br><span class="line">    <span class="keyword">case</span> QImage::Format_ARGB32_Premultiplied:</span><br><span class="line">    &#123;</span><br><span class="line">        cv::Mat  mat( inImage.height(), inImage.width(),</span><br><span class="line">                      CV_8UC4,</span><br><span class="line">                      <span class="keyword">const_cast</span>&lt;uchar*&gt;(inImage.bits()),</span><br><span class="line">                      <span class="keyword">static_cast</span>&lt;<span class="keyword">size_t</span>&gt;(inImage.bytesPerLine())</span><br><span class="line">                      );</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> (inCloneImageData ? mat.clone() : mat);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 8-bit, 3 channel</span></span><br><span class="line">    <span class="keyword">case</span> QImage::Format_RGB32:</span><br><span class="line">    <span class="keyword">case</span> QImage::Format_RGB888:</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> ( !inCloneImageData )</span><br><span class="line">        &#123;</span><br><span class="line">            qWarning() &lt;&lt; <span class="string">"CVS::QImageToCvMat() - Conversion requires cloning because we use a temporary QImage"</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        QImage   swapped = inImage;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> ( inImage.format() == QImage::Format_RGB32 )</span><br><span class="line">        &#123;</span><br><span class="line">            swapped = swapped.convertToFormat( QImage::Format_RGB888 );</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        swapped = swapped.rgbSwapped();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> cv::Mat( swapped.height(), swapped.width(),</span><br><span class="line">                        CV_8UC3,</span><br><span class="line">                        <span class="keyword">const_cast</span>&lt;uchar*&gt;(swapped.bits()),</span><br><span class="line">                        <span class="keyword">static_cast</span>&lt;<span class="keyword">size_t</span>&gt;(swapped.bytesPerLine())</span><br><span class="line">                        ).clone();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 8-bit, 1 channel</span></span><br><span class="line">    <span class="keyword">case</span> QImage::Format_Indexed8:</span><br><span class="line">    &#123;</span><br><span class="line">        cv::Mat  mat( inImage.height(), inImage.width(),</span><br><span class="line">                      CV_8UC1,</span><br><span class="line">                      <span class="keyword">const_cast</span>&lt;uchar*&gt;(inImage.bits()),</span><br><span class="line">                      <span class="keyword">static_cast</span>&lt;<span class="keyword">size_t</span>&gt;(inImage.bytesPerLine())</span><br><span class="line">                      );</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> (inCloneImageData ? mat.clone() : mat);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        qWarning() &lt;&lt; <span class="string">"CVS::QImageToCvMat() - QImage format not handled in switch:"</span> &lt;&lt; inImage.format();</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> cv::Mat();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//将QPixmap转化为Mat</span></span><br><span class="line"><span class="keyword">inline</span> cv::<span class="function">Mat <span class="title">QPixmapToCvMat</span><span class="params">( <span class="keyword">const</span> QPixmap &amp;inPixmap, <span class="keyword">bool</span> inCloneImageData = <span class="literal">true</span> )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> QImageToCvMat( inPixmap.toImage(), inCloneImageData );</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//CV_8UC1另一种写法，不过我觉得上面的一种写法更优雅^_^</span></span><br><span class="line"><span class="function">QImage <span class="title">image</span><span class="params">(mat.cols, mat.rows, QImage::Format_Indexed8)</span></span>;  </span><br><span class="line"><span class="comment">// Set the color table (used to translate colour indexes to qRgb values)  </span></span><br><span class="line">image.setColorCount(<span class="number">256</span>);  </span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">256</span>; i++)  </span><br><span class="line">&#123;  </span><br><span class="line">    image.setColor(i, qRgb(i, i, i));  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="comment">// Copy input Mat  </span></span><br><span class="line">uchar *pSrc = mat.data;  </span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> row = <span class="number">0</span>; row &lt; mat.rows; row ++)  </span><br><span class="line">&#123;  </span><br><span class="line">    uchar *pDest = image.scanLine(row);  </span><br><span class="line">    <span class="built_in">memcpy</span>(pDest, pSrc, mat.cols);  </span><br><span class="line">    pSrc += mat.step;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="keyword">return</span> image;</span><br></pre></td></tr></table></figure>
<p>新建一个头文件，将代码（CV_8UC1你自己挑一个吧）添加进去。</p>
<p>如何调用函数？在你要调函数的<code>.cpp</code>文件中添加<code>using namespace CVS;</code>即可。我推荐你这样去做<code>CVS::函数</code>。</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/QT/">QT</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/cpp/">cpp</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/opencv/">opencv</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/qt/">qt</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-2017-11-30-QT5.9.1与opencv3.3读取图片（2）"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/11/30/2017-11-30-QT5.9.1与opencv3.3读取图片（2）/">QT5.9.1与opencv3.3读取图片（2）</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2017/11/30/2017-11-30-QT5.9.1与opencv3.3读取图片（2）/" class="article-date">
	  <time datetime="2017-11-29T16:00:00.000Z" itemprop="datePublished">十一月 30, 2017</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/QT/">QT</a>
 
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>我之前写过一篇<a href="http://blog.csdn.net/qq_17550379/article/details/78303667" target="_blank" rel="noopener">QT5.9.1与opencv3.3读取图片</a>，但是我们对于这种读取操作不是很满意，一般我们打开文件都是有一个对话框，并且图片是在一个小窗口中显示的。</p>
<p>关于如何新建一个项目，请看上一篇。</p>
<p>我们想要有一个小窗口去显示图片，那我们就要用到<code>QMdiArea</code>。从左边拖一个<code>MDI Area</code>到窗口中，点击<code>MainWindow</code>然后选择栅格布局。</p>
<p><a href="http://wx4.sinaimg.cn/mw690/af2d2659ly1fm0805m2j6j20u60hjgmy.jpg" data-lightbox="roadtrip" target="_blank" rel="noopener"><br><img src="http://wx4.sinaimg.cn/mw690/af2d2659ly1fm0805m2j6j20u60hjgmy.jpg" class="img-fluid"><br></a></p>
<p>我们看到<code>MDI Area</code>的边界和<code>MainWindow</code>的边界有一些距离，这很难看，所以我们要调整这个间隔。选中<code>centralWidget</code>，然后修改<code>LayoutLeftMargin</code>、<code>LayoutTopMargin</code>、 <code>LayoutRightMargin</code>、<code>LayoutBottomMargin</code> 都设置为0。</p>
<p><a href="http://wx4.sinaimg.cn/mw690/af2d2659ly1fm08birinoj20fv0qtwf8.jpg" data-lightbox="roadtrip" target="_blank" rel="noopener"><br><img src="http://wx4.sinaimg.cn/mw690/af2d2659ly1fm08birinoj20fv0qtwf8.jpg" class="img-fluid"><br></a></p>
<p>接着我们要对小窗口进行设计，由于我们要显示一个图片，最简单的做法就是新建一个<code>ChildWindow</code>类，让这类继承<code>QLabel</code>类就可以了。</p>
<p><a href="http://wx2.sinaimg.cn/mw690/af2d2659ly1fm08jm9ejlj20ma0fi0ss.jpg" data-lightbox="roadtrip" target="_blank" rel="noopener"><br><img src="http://wx2.sinaimg.cn/mw690/af2d2659ly1fm08jm9ejlj20ma0fi0ss.jpg" class="img-fluid"><br></a></p>
<p>我们现在来处理<code>ChildWindow</code>类，其中用到了我们之前写的一个转换函数<a href="http://blog.csdn.net/qq_17550379/article/details/78683153" target="_blank" rel="noopener">QT中的QImage、QPixmap和opencv 中的mat转化</a>，我这里新建一个头文件<code>qimageandmat.h</code>，将上面文章中给的代码copy过去。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//childwindow.cpp</span></span><br><span class="line"><span class="comment">//读取图片</span></span><br><span class="line"><span class="keyword">bool</span> ChildWindow::loadFile(<span class="keyword">const</span> QString &amp;fileName)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//读取一幅图片，这里我们要将QString转换为String使用toLocal8Bit()函数，避免乱码问题</span></span><br><span class="line">    cv::Mat image = cv::imread(fileName.toLocal8Bit().data());</span><br><span class="line">    <span class="keyword">if</span>(!image.data)</span><br><span class="line">    &#123;</span><br><span class="line">        QMessageBox::warning(<span class="keyword">this</span>, tr(<span class="string">"CVS"</span>),</span><br><span class="line">                                 tr(<span class="string">"Cannot read file %1\n"</span>)</span><br><span class="line">                                 .arg(fileName));<span class="comment">//添加头文件#include &lt;QMessageBox&gt;</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//将Mat转化为QPixmap，使用了我们写的一个函数</span></span><br><span class="line">        QPixmap img = CVS::cvMatToQPixmap(image);</span><br><span class="line">        <span class="comment">//显示在label中</span></span><br><span class="line">        <span class="keyword">this</span>-&gt;setPixmap(img);</span><br><span class="line">        <span class="comment">//改变label的大小用于自适应图像大小</span></span><br><span class="line">        <span class="keyword">this</span>-&gt;setScaledContents(<span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    setCurrentFile(fileName);<span class="comment">//设置小窗口的标题</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>接着编写<code>setCurrentFile</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//childwindow.cpp</span></span><br><span class="line"><span class="comment">//设置小窗口的标题</span></span><br><span class="line"><span class="keyword">void</span> ChildWindow::setCurrentFile(<span class="keyword">const</span> QString &amp;fileName)</span><br><span class="line">&#123;</span><br><span class="line">    curFile = QFileInfo(fileName).canonicalFilePath();<span class="comment">//获取文件绝对路径，添加头文件#include &lt;QFileInfo&gt;</span></span><br><span class="line">    setWindowTitle(userFriendlyCurrentFile() + <span class="string">"[*]"</span>);</span><br><span class="line">&#125;</span><br><span class="line">QString ChildWindow::userFriendlyCurrentFile()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> strippedName(curFile);</span><br><span class="line">&#125;</span><br><span class="line">QString ChildWindow::strippedName(<span class="keyword">const</span> QString &amp;fullFileName)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> QFileInfo(fullFileName).fileName();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>最后<code>ChildWindow</code>的头文件片段</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QLabel&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;opencv2/opencv.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QImage&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"qimageandmat.h"</span></span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ChildWindow</span> :</span> <span class="keyword">public</span> QLabel</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    ChildWindow();</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">loadFile</span><span class="params">(<span class="keyword">const</span> QString &amp;fileName)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">QString <span class="title">userFriendlyCurrentFile</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function">QString <span class="title">currentFile</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> curFile; &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setCurrentFile</span><span class="params">(<span class="keyword">const</span> QString &amp;fileName)</span></span>;</span><br><span class="line">    <span class="function">QString <span class="title">strippedName</span><span class="params">(<span class="keyword">const</span> QString &amp;fullFileName)</span></span>;</span><br><span class="line"></span><br><span class="line">    QString curFile;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>接着我们处理<code>MainWindow</code></p>
<p>原来的<code>mainwindow</code>中的<code>actionOpenFile</code>槽函数这个时候变为</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//mainwindow.cpp</span></span><br><span class="line"><span class="keyword">void</span> MainWindow::on_actionOpenFile_triggered()</span><br><span class="line">&#123;</span><br><span class="line">    fileName = QFileDialog::getOpenFileName(<span class="keyword">this</span>);  <span class="comment">//文件打开窗口，添加头文件#include &lt;QFileDialog&gt;</span></span><br><span class="line">    <span class="keyword">if</span> (!fileName.isEmpty())</span><br><span class="line">        openFile(fileName);<span class="comment">//打开文件</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>接着编写<code>openFile</code>函数</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//mainwindow.cpp</span></span><br><span class="line"><span class="comment">//打开文件窗口</span></span><br><span class="line"><span class="keyword">bool</span> MainWindow::openFile(<span class="keyword">const</span> QString &amp;fileName)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">bool</span> succeeded = loadFile(fileName);	<span class="comment">//读取文件</span></span><br><span class="line">    <span class="keyword">return</span> succeeded;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>接着编写<code>loadFile</code>文件</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//mainwindow.cpp</span></span><br><span class="line"><span class="comment">//读取图片</span></span><br><span class="line"><span class="keyword">bool</span> MainWindow::loadFile(<span class="keyword">const</span> QString &amp;fileName)</span><br><span class="line">&#123;</span><br><span class="line">    ChildWindow *child = createChildWindow();		<span class="comment">//创建一个子窗口</span></span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">bool</span> succeeded = child-&gt;loadFile(fileName);<span class="comment">//子窗口读取图片</span></span><br><span class="line">    <span class="keyword">if</span> (succeeded)								  <span class="comment">//如果读取成功，显示图片；否则，关闭</span></span><br><span class="line">        child-&gt;show();</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        child-&gt;close();</span><br><span class="line">    <span class="keyword">return</span> succeeded;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>接着编写<code>createChildWindow</code>函数</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//mainwindow.cpp</span></span><br><span class="line"><span class="comment">//创建子窗口</span></span><br><span class="line">ChildWindow *MainWindow::createChildWindow()</span><br><span class="line">&#123;</span><br><span class="line">    ChildWindow *child = <span class="keyword">new</span> ChildWindow;</span><br><span class="line">    ui-&gt;mdiArea-&gt;addSubWindow(child);</span><br><span class="line">    <span class="keyword">return</span> child;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>最后<code>MainWindow</code>的头文件片段</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QMainWindow&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QMdiSubWindow&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"childwindow.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> Ui &#123;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MainWindow</span>;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MainWindow</span> :</span> <span class="keyword">public</span> QMainWindow</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">MainWindow</span><span class="params">(QWidget *parent = <span class="number">0</span>)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">openFile</span><span class="params">(<span class="keyword">const</span> QString &amp;fileName)</span></span>;</span><br><span class="line">    ~MainWindow();</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> slots:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">on_actionOpenFile_triggered</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">loadFile</span><span class="params">(<span class="keyword">const</span> QString &amp;fileName)</span></span>;</span><br><span class="line">    <span class="function">ChildWindow *<span class="title">createChildWindow</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    QMdiArea *mdiArea;</span><br><span class="line">    QString fileName;</span><br><span class="line">    Ui::MainWindow *ui;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>接着运行</p>
<p><a href="http://wx4.sinaimg.cn/mw690/af2d2659ly1fm0yy0g0i8j20kd0h4149.jpg" data-lightbox="roadtrip" target="_blank" rel="noopener"><br><img src="http://wx4.sinaimg.cn/mw690/af2d2659ly1fm0yy0g0i8j20kd0h4149.jpg" class="img-fluid"><br></a></p>
<p>ok！^_^</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/QT/">QT</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/cpp/">cpp</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/opencv/">opencv</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/qt/">qt</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-2017-11-28-深度学习主机配置：Ubuntu16.04+1080ti+cuda8+cudnn6+tensorflow1.3"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/11/28/2017-11-28-深度学习主机配置：Ubuntu16.04+1080ti+cuda8+cudnn6+tensorflow1.3/">深度学习主机配置：Ubuntu16.04+1080ti+cuda8+cudnn6+tensorflow1.3</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2017/11/28/2017-11-28-深度学习主机配置：Ubuntu16.04+1080ti+cuda8+cudnn6+tensorflow1.3/" class="article-date">
	  <time datetime="2017-11-27T16:00:00.000Z" itemprop="datePublished">十一月 28, 2017</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/index/">index</a>
 
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>由于在<a href="http://blog.csdn.net/qq_17550379/article/details/78547648" target="_blank" rel="noopener">Ubuntu17.04+1080ti+cuda9+cudnn7+tensorflow1.4/1.3配置</a>后，工作过程中出现了一些问题，比较好的做法是等待tensorflow1.5的发布，但是我没有时间去等QAQ。所以重装系统，QAQ。</p>
<p>和之前装机的方法一样，只是这里的系统是ubuntu16.04。系统安装好后，我们修改源。好，第一个坑出现了。</p>
<h2 id="无线网卡驱动"><a href="#无线网卡驱动" class="headerlink" title="无线网卡驱动"></a>无线网卡驱动</h2><p>装好系统后，无线网卡无法使用（主要是我这里有线需要拨号上网，对就是这么的原始QAQ，dsl一直出问题）</p>
<p>我的网卡型号是Killer Wireless-AC 1535<a href="http://mirrors.kernel.org/ubuntu/pool/main/l/linux-firmware/linux-firmware_1.161.1_all.deb" target="_blank" rel="noopener">下载驱动</a></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo dpkg -i linux-firmware*.deb</span><br><span class="line">sudo modprobe -r ath10k_pci &amp;&amp; sudo modprobe ath10k_pci</span><br></pre></td></tr></table></figure>
<h2 id="下载软件仓库信息失败"><a href="#下载软件仓库信息失败" class="headerlink" title="下载软件仓库信息失败"></a>下载软件仓库信息失败</h2><p>我尝试着去更换源，确实在有的源解决了这个问题，但是我不推荐你这么去做。我这里希望我的源是<code>aliyun</code>，但是它一更新后就会出现下面的问题。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">*** Error in `appstreamcli': double free or corruption (fasttop): 0x0000000001549c80 ***</span><br></pre></td></tr></table></figure>
<p>解决方法</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get purge libappstream3</span><br><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure>
<h2 id="安装显卡驱动"><a href="#安装显卡驱动" class="headerlink" title="安装显卡驱动"></a>安装显卡驱动</h2><p>我推荐你先安装<code>vim</code>，因为我觉得<code>vi</code>不怎么好用</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install vim</span><br></pre></td></tr></table></figure>
<p>接着去禁用nouveau驱动（这是一个开源的驱动，对nvidia显卡不支持）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/modprobe.d/blacklist-nouveau.conf</span><br></pre></td></tr></table></figure>
<p>在后面添加</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">blacklist nouveau</span><br></pre></td></tr></table></figure>
<p>接着更新一下</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo update-initramfs -u</span><br></pre></td></tr></table></figure>
<p><strong>修改之后需要重启系统</strong>。</p>
<p>重启后可以使用以下命令： </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsmod | grep nouveau</span><br></pre></td></tr></table></figure>
<p>如果什么都没有的话，禁用成功。我这里要说的是，大家都这样做了，所以我这样做了，但是如果不禁用会不会有问题，我不知道（有人说没问题）。</p>
<p>先进入文本模式（Ctrl+Alt+F1），接着使用这条指令，添加一个源</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo add-apt-repository ppa:graphics-drivers/ppa</span><br></pre></td></tr></table></figure>
<p>关闭图形化窗口</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service lightdm stop</span><br></pre></td></tr></table></figure>
<p>先更新一下，因为我们添加了一个源</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure>
<p>使用这个命令下载安装驱动（我的显卡是1080ti所以使用381，没有使用384，很多人说这个有问题，不想再被坑了）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install nvidia-381</span><br></pre></td></tr></table></figure>
<p>这次安装的过程中出现了这样的一个问题</p>
<ul>
<li><p>pcie bus error</p>
<p>先恢复图形环境</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service lightdm start</span><br></pre></td></tr></table></figure>
<p>Ctrl+Alt+F7进入图形界面</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/default/grub</span><br></pre></td></tr></table></figure>
<p>将其中的</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GRUB_CMDLINE_LINUX_DEFAULT="quiet splash"</span><br></pre></td></tr></table></figure>
<p>修改为</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GRUB_CMDLINE_LINUX_DEFAULT="quiet splash nomodeset"</span><br></pre></td></tr></table></figure>
<p>然后更新<code>sudo update-grub</code>，后重启电脑。</p>
</li>
</ul>
<p>接着按照之前的步骤安装驱动就可以了，很高兴的是，这次并没有像Ubuntu17.04那样出现下载出错的问题。</p>
<p>装好后，恢复图形环境</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service lightdm start</span><br></pre></td></tr></table></figure>
<p>Ctrl+Alt+F7进入图形界面，关机。</p>
<p>将独立显卡插上，将视屏线插在独显上，开机，这个时候你会发现，系统可以打开了，不再是黑屏。</p>
<p>进入系统后，输入下面指令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvidia-smi</span><br></pre></td></tr></table></figure>
<p>如果没有出现报错，那么恭喜你ubuntu装好了。</p>
<h2 id="安装pip"><a href="#安装pip" class="headerlink" title="安装pip"></a>安装pip</h2><p>接着我们要先安装pip源</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install python-pip</span><br></pre></td></tr></table></figure>
<p>接着cd到根目录，使用</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -la</span><br></pre></td></tr></table></figure>
<p>这个时候应该可以看到<code>.config</code>文件夹，进入这个文件夹（<code>cd .config</code>），建立一个pip文件夹（mkdir pip），进入pip文件夹（cd pip），接着建立<code>pip.conf</code>文件（vim pip.conf），按i（表示输入文本）输入以下内容</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[global] </span><br><span class="line">index-url = https://pypi.tuna.tsinghua.edu.cn/simple</span><br></pre></td></tr></table></figure>
<p>输入<code>:wq</code>（保存并退出）。</p>
<p>以上步骤是要修改pip的源，这样安装会更加的快。</p>
<h2 id="安装cuda8"><a href="#安装cuda8" class="headerlink" title="安装cuda8"></a>安装cuda8</h2><p>下载好cuda8的<code>.run</code>文件，注意这里不要下载<code>.deb</code>文件（据说有坑），应该是两个文件，其中一个是补丁文件。</p>
<p>使用下面指令安装</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ./cuda_8.0.61_375.26_linux.run</span><br></pre></td></tr></table></figure>
<p>这个安装的过程没有什么困难的，唯一一个要注意的地方就是<strong>在选择安装驱动时，选n</strong></p>
<p>装好后打上补丁</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ./cuda_8.0.61.2_linux.run</span><br></pre></td></tr></table></figure>
<p>我这里的samples文件是在home文件夹下（各位可能是在<code>/usr/local/cuda-8.0/</code>下）</p>
<p>现在桌面建立一个文件夹test，进入test文件夹（cd test）。使用下面的命令，将cuda例子文件复制进去</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp -r /home/nvidia_samples/ .</span><br></pre></td></tr></table></figure>
<p>进入samples文件夹（cd samples），输入指令<code>make -j</code>，进行编译，编译要花一点时间。</p>
<p>编译好后切换到release文件夹</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd ./bin/x86_64/linux/release</span><br></pre></td></tr></table></figure>
<p>执行下面指令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./deviceQuery</span><br></pre></td></tr></table></figure>
<p>查看最后结果，如果是<code>Result = PASS</code>，那就ok。</p>
<p>接着cd到根目录。编辑<code>.bashrc文件</code>（vim  .bashrc，不过新装的系统好像没有这个文件，没有的话跳过这步），在文件结尾添加下面的语句</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span>cuda8.0</span><br><span class="line">export PATH=/usr/local/cuda/bin$&#123;PATH:+:$&#123;PATH&#125;&#125; </span><br><span class="line">export LD_LIBRARY_PATH=/usr/local/cuda/lib64$&#123;LD_LIBRARY_PATH:+:$&#123;LD_LIBRARY_PATH&#125;&#125; </span><br><span class="line">export CUDA_HOME=/usr/local/cuda</span><br></pre></td></tr></table></figure>
<p>输入<code>:wq</code>（保存退出）。接着在命令窗口输入<code>source .bashrc</code>，让文件生效。</p>
<h2 id="安装cudnn6"><a href="#安装cudnn6" class="headerlink" title="安装cudnn6"></a>安装cudnn6</h2><p>推荐安装cudnn6，不要安装cudnn7</p>
<p>接着去官网下载<a href="https://developer.nvidia.com/cudnn" target="_blank" rel="noopener">cudnn6安装文件</a>，但是好像最近无法下载了，我有时间会上传一份。（需要的同学留言，我发给你）</p>
<p>下载好后输入下列指令将相关文件拷贝到cuda安装目录下即可。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf cudnn-8.0-linux-x64-v6.0.tgz</span><br><span class="line">sudo cp cuda/include/cudnn.h /usr/local/cuda/include/ </span><br><span class="line">sudo cp -a cuda/lib64/libcudnn* /usr/local/cuda/lib64/ </span><br><span class="line">sudo chmod a+r /usr/local/cuda/include/cudnn.h </span><br><span class="line">sudo chmod a+r /usr/local/cuda/lib64/libcudnn*</span><br></pre></td></tr></table></figure>
<p>注意上面第二条指令，这里多加了一个<code>-a</code>，在官方给的方案里面没有，我建议你这样做，否则会出现连接出错的问题。</p>
<h2 id="安装tensorflow1-3"><a href="#安装tensorflow1-3" class="headerlink" title="安装tensorflow1.3"></a>安装tensorflow1.3</h2><p>接着我们开始安装tensorflow1.3，在此之前，先安装一个<code>libcupti-dev</code>库</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install libcupti-dev</span><br></pre></td></tr></table></figure>
<p>接着如果使用</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pip install tensorflow-gpu</span><br></pre></td></tr></table></figure>
<p>会安装tensorflow1.4的版本，我觉得如果你是使用cuda8的用户，我推荐你去安装tensorflow1.3。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pip install tensorflow-gpu==1.3</span><br></pre></td></tr></table></figure>
<p>装好后我们在python中（命令窗口输入python）测试一下</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import tensorflow as tf</span><br></pre></td></tr></table></figure>
<p>如果没有报错的话，就可以了date: 2017-11-28 00:00:00<br>。</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/index/">index</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/1080ti/">1080ti</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Dell/">Dell</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Ubuntu/">Ubuntu</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/cuda/">cuda</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/cudnn/">cudnn</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tensorflow/">tensorflow</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-2017-11-15-深度学习主机配置Ubuntu17_04+1080ti+cuda9+cudnn7+tensorflow"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/11/15/2017-11-15-深度学习主机配置Ubuntu17_04+1080ti+cuda9+cudnn7+tensorflow/">深度学习主机配置：Ubuntu17.04+1080ti+cuda9+cudnn7+tensorflow1.4/1.3</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2017/11/15/2017-11-15-深度学习主机配置Ubuntu17_04+1080ti+cuda9+cudnn7+tensorflow/" class="article-date">
	  <time datetime="2017-11-14T16:00:00.000Z" itemprop="datePublished">十一月 15, 2017</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/index/">index</a>
 
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>在此之前你应该已经装好了<code>Ubuntu17.04</code>，如果你对于装系统有什么疑问的话，请看这篇<a href="http://blog.csdn.net/qq_17550379/article/details/78546850" target="_blank" rel="noopener">Dell Alienware Aurora R6 （1080ti）安装Ubuntu17.04记录</a></p>
<p>首先我们要先安装pip源</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install python-pip</span><br></pre></td></tr></table></figure>
<p>接着cd到根目录，使用</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -la</span><br></pre></td></tr></table></figure>
<p>这个时候应该可以看到<code>.config</code>文件夹，进入这个文件夹（<code>cd .config</code>），建立一个pip文件夹（mkdir pip），进入pip文件夹（cd pip），接着建立<code>pip.conf</code>文件（vim pip.conf），按i（表示输入文本）输入以下内容</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[global] </span><br><span class="line">index-url = https://pypi.tuna.tsinghua.edu.cn/simple</span><br></pre></td></tr></table></figure>
<p>输入<code>:wq</code>（保存并退出）。</p>
<p>以上步骤是要修改pip的源，这样安装会更加的快。</p>
<h2 id="安装cuda9-0和cudnn7"><a href="#安装cuda9-0和cudnn7" class="headerlink" title="安装cuda9.0和cudnn7"></a>安装cuda9.0和cudnn7</h2><p>去官网下载<a href="https://developer.nvidia.com/cuda-release-candidate-download" target="_blank" rel="noopener">cuda9.0安装包</a></p>
<p><a href="http://wx2.sinaimg.cn/mw690/af2d2659ly1fljn2fnj3aj20s90nj75p.jpg" data-lightbox="roadtrip" target="_blank" rel="noopener"><br><img src="http://wx2.sinaimg.cn/mw690/af2d2659ly1fljn2fnj3aj20s90nj75p.jpg" class="img-fluid"><br></a></p>
<p>按照上面说的安装步骤安装即可。</p>
<p>接着我们对cuda9下面的例子测试一下，以保证我们装好了cuda</p>
<p>现在桌面建立一个文件夹test，进入test文件夹（cd test）。使用下面的命令，将cuda例子文件复制进去</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp -r /usr/local/cuda-9.0/samples/ .</span><br></pre></td></tr></table></figure>
<p>进入samples文件夹（cd samples），输入指令make，进行编译，编译要花很长时间。</p>
<p>编译好后，进入其中一个文件夹，我这里是进入了<code>cd ./1_Utilities/bandwidthTest</code>，接着输入</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./bandwidthTest</span><br></pre></td></tr></table></figure>
<p>查看最后结果，如果是<code>Result = PASS</code>，那就ok。</p>
<p>接着cd到根目录。编辑<code>.bashrc文件</code>（vim  .bashrc，不过新装的系统好像没有这个文件，没有的话跳过这步），在文件结尾添加下面的语句</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span>cuda9.0</span><br><span class="line">export PATH=/usr/local/cuda/bin$&#123;PATH:+:$&#123;PATH&#125;&#125; </span><br><span class="line">export LD_LIBRARY_PATH=/usr/local/cuda/lib64$&#123;LD_LIBRARY_PATH:+:$&#123;LD_LIBRARY_PATH&#125;&#125; </span><br><span class="line">export CUDA_HOME=/usr/local/cuda</span><br></pre></td></tr></table></figure>
<p>输入<code>:wq</code>（保存退出）。接着在命令窗口输入<code>source .bashrc</code>，让文件生效。</p>
<p>接着去官网下载<a href="https://developer.nvidia.com/cudnn" target="_blank" rel="noopener">cudnn7安装文件</a>，但是好像最近无法下载了，我有时间会上传一份。</p>
<p>下载好后输入下列指令将相关文件拷贝到cuda安装目录下即可。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf cudnn-9.0-linux-x64-v7.tgz </span><br><span class="line">sudo cp cuda/include/cudnn.h /usr/local/cuda/include/ </span><br><span class="line">sudo cp -a cuda/lib64/libcudnn* /usr/local/cuda/lib64/ </span><br><span class="line">sudo chmod a+r /usr/local/cuda/include/cudnn.h </span><br><span class="line">sudo chmod a+r /usr/local/cuda/lib64/libcudnn*</span><br></pre></td></tr></table></figure>
<p>注意上面第二条指令，这里多加了一个<code>-a</code>，在官方给的方案里面没有，我建议你这样做，否则会出现连接出错的问题。如果你忘记了，可以参考下面做法</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/cuda/lib64/</span><br><span class="line">sudo rm -rf libcudnn.so libcudnn.so.7.0  </span><br><span class="line">sudo ln -s libcudnn.so.7.0.64 libcudnn.so.7.0  </span><br><span class="line">sudo ln -s libcudnn.so.7.0 libcudnn.so</span><br></pre></td></tr></table></figure>
<p>其实是相同的道理。</p>
<h2 id="安装tensorflow1-4"><a href="#安装tensorflow1-4" class="headerlink" title="安装tensorflow1.4"></a>安装tensorflow1.4</h2><p>这是本次安装的重难点，因为tensorflow1.3/1.4对于cuda9并没有支持，所以安装中会出现一些问题。可行的办法有自己编译tensorflow文件进行安装，但是我不推荐你这样去做。</p>
<p>在github找到了别人编译好的cuda9补丁版<a href="https://github.com/mind/wheels/releases/tag/tf1.4-gpu-cuda9" target="_blank" rel="noopener">tensorflow1.4</a>，<a href="https://github.com/mind/wheels/releases/download/tf1.4-gpu-cuda9/tensorflow-1.4.0-cp27-cp27mu-linux_x86_64.whl" target="_blank" rel="noopener"><strong>tensorflow-1.4.0-cp27-cp27mu-linux_x86_64.whl</strong></a>索性就拿来直接用。</p>
<p>使用这个之前，你要先安装mkl。在此之前你要确认你的cpu是否是以下系列之一</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Intel Atom(R) processor with Intel(R) SSE4.1 support</span><br><span class="line">4th, 5th, 6th and 7th generation Intel(R) Core processor</span><br><span class="line">Intel(R) Xeon(R) processor E5 v3 family (code named Haswell)</span><br><span class="line">Intel(R) Xeon(R) processor E5 v4 family (code named Broadwell)</span><br><span class="line">Intel(R) Xeon(R) Platinum processor family (code name Skylake)</span><br><span class="line">Intel(R) Xeon Phi(TM) product family x200 (code named Knights Landing)</span><br><span class="line">Future Intel(R) Xeon Phi(TM) processor (code named Knights Mill)</span><br></pre></td></tr></table></figure>
<p>如果不是，这个方法就可能不适用了，请使用编译tensorflow源码的办法。</p>
<p>如果cpu是其中的话，我们先要安装<code>git</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install git</span><br></pre></td></tr></table></figure>
<p>接着下载mkl的包</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/01org/mkl-dnn.git</span><br></pre></td></tr></table></figure>
<p>接着安装cmake和doxygen</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install Cmake</span><br><span class="line">sudo apt-get install Doxygen</span><br></pre></td></tr></table></figure>
<p>接着使用下面命令进入文件夹，下载相关文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd scripts &amp;&amp; ./prepare_mkl.sh &amp;&amp; cd ..</span><br></pre></td></tr></table></figure>
<ul>
<li><p>如果出错的话，你可以在这里<a href="https://github.com/01org/mkl-dnn/releases" target="_blank" rel="noopener">下载</a>，我这里下载的是<a href="https://github.com/01org/mkl-dnn/releases/download/v0.11/mklml_lnx_2018.0.1.20171007.tgz" target="_blank" rel="noopener"><strong>mklml_lnx_2018.0.1.20171007.tgz</strong></a></p>
<p>现在之前下载好的mkl文件夹里面建立一个<code>external</code>文件夹。下载好现在的这个文件后解压（双击-&gt;提取），将加压后的文件夹里面的内容，copy到<code>external</code>文件夹中。</p>
</li>
</ul>
<p>回到mkl目录下，接着建立一个bulid文件夹，进行编译</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p build &amp;&amp; cd build &amp;&amp; cmake .. &amp;&amp; make</span><br></pre></td></tr></table></figure>
<p>接着测试我们的编译文件是否有效，使用</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo make test</span><br></pre></td></tr></table></figure>
<p>接着生成doc文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo make doc</span><br></pre></td></tr></table></figure>
<p>最后安装</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo make install</span><br></pre></td></tr></table></figure>
<p>在此之前如果出现错误的话，可以使用<code>sudo+命令</code>再次尝试。</p>
<p>安装完成后，应该会有这样几个文件</p>
<p>共享库 (/<em>usr/local/lib</em>)：</p>
<ul>
<li>libiomp5.so</li>
<li>libmkldnn.so</li>
<li>libmklml_intel.so</li>
</ul>
<p>标头文件 (/<em>usr/local/include</em>)：</p>
<ul>
<li>mkldnn.h</li>
<li>mkldnn.hpp</li>
<li>mkldnn_types.h</li>
</ul>
<p>文档 (/<em>usr/local/share/doc/mkldnn</em>)：</p>
<ul>
<li>英特尔许可和版权声明</li>
<li>构成 HTML 文档的各种文件（在 <em>/reference/html</em> 之下）</li>
</ul>
<p>cd到根目录。编辑<code>.bashrc</code>文件（vim .bahsrc，没有的话，跳过这步），和之前做法一样。在文件最后添加</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span>mkl</span><br><span class="line">export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/lib</span><br></pre></td></tr></table></figure>
<p>然后输入<code>:wq</code>退出，在命令窗口输入<code>source .bashrc</code>让文件生效。</p>
<p>接着我们开始安装tensorflow1.4，在此之前，先安装一个<code>libcupti-dev</code>库</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install libcupti-dev</span><br></pre></td></tr></table></figure>
<p>接着先回到下载tensorflow的目录，就可以安装了</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pip install tensorflow-1.4.0-cp27-cp27mu-linux_x86_64.whl</span><br></pre></td></tr></table></figure>
<p>装好后我们在python中（命令窗口输入python）测试一下</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import tensorflow as tf</span><br></pre></td></tr></table></figure>
<p>如果没有报错的话，就可以了。如果报错的话，例如</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ImportError: libmklml_intel.so: cannot open shared object file: No such file <span class="keyword">or</span> directory</span><br></pre></td></tr></table></figure>
<p>可能是你的mkl环境没有配置好。</p>
<p>如果有任何问题，请及时指出，我不想我的文章对大家造成误导，谢谢！！！^_date: 2017-11-15 00:00:00<br>^</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/index/">index</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/1080ti/">1080ti</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Dell/">Dell</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Ubuntu/">Ubuntu</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/cuda/">cuda</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/cudnn/">cudnn</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tensorflow/">tensorflow</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-2017-11-14-Dell-Alienware-Aurora-R6-安装Ubuntu17.04记录"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/11/14/2017-11-14-Dell-Alienware-Aurora-R6-安装Ubuntu17.04记录/">Dell Alienware Aurora R6（1080ti）安装Ubuntu17.04记录</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2017/11/14/2017-11-14-Dell-Alienware-Aurora-R6-安装Ubuntu17.04记录/" class="article-date">
	  <time datetime="2017-11-13T16:00:00.000Z" itemprop="datePublished">十一月 14, 2017</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/index/">index</a>
 
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>写这篇文章的时候，我内心是非常舒畅的，电脑是昨天下午到的，今天终于把Ubuntu17.04配置好了。希望我这篇文章对各位有一些启发。</p>
<p>首先我要强调，网络上的一些指导性教程都是有时限的，也就是说可能对你的机器不适用，但是如果你理解了其中的原理的话，万变不离其宗！！！</p>
<h2 id="bios的设置"><a href="#bios的设置" class="headerlink" title="bios的设置"></a>bios的设置</h2><p>先说一下第一个比较头疼的问题，bios的设置（我这里是F2打开）。<code>secure boot</code>选项要设置为<code>disabled</code>，至少我是这样做的，我后来也没有测试设置成<code>enabled</code>会有什么问题。这一点我保留意见，大家可以自己尝试一下。</p>
<p>接下来是关于<code>uefi</code>和<code>legacy</code>的问题，很多教程中都是使用<code>legacy</code>，但是经过我的尝试，我这里选择<code>uefi</code>，<code>uefi</code>是一种新的装机手法，而<code>legacy</code>是老的。所以对于那些10年之后的电脑，我强烈推荐你使用<code>uefi</code>。</p>
<p>接着是<code>AHCI</code>和<code>RAID</code>的问题，对于双硬盘的主机都可能会面对的问题。如果你要安装<code>ubuntu</code>的话，必须使用<code>AHCI</code>。</p>
<p>别的都不变，save and reset。</p>
<h2 id="做ubuntu系统盘"><a href="#做ubuntu系统盘" class="headerlink" title="做ubuntu系统盘"></a>做<code>ubuntu</code>系统盘</h2><p>因为我在bios中设置了<code>uefi</code>，所以我这里使用<a href="http://rufus.akeo.ie/" target="_blank" rel="noopener">rufus</a>这个工具。如果你使用<code>legacy</code>（我不推荐你这样去做），可以使用软碟通这个工具。</p>
<p><a href="http://wx3.sinaimg.cn/mw690/af2d2659ly1fliw4p6r5lj20cs0hztbb.jpg" data-lightbox="roadtrip" target="_blank" rel="noopener"><br><img src="http://wx3.sinaimg.cn/mw690/af2d2659ly1fliw4p6r5lj20cs0hztbb.jpg" class="img-fluid"><br></a></p>
<p>这里主要的问题之第二个选项，按照图上去选就可以了。为什么？这里我要说一说<code>GPT</code>分区和<code>MBR</code>分区，如果你前面选择的是<code>uefi</code>，那么这里就是用<code>GPT</code>。具体区别看<a href="http://www.chinaz.com/server/2016/1017/595444.shtml" target="_blank" rel="noopener">这篇</a>。</p>
<p>我这里是使用<code>winPE</code>工具把两个硬盘都设置为<code>GPT</code>分区（如果使用<code>winPE</code>的话，你要先把<code>uefi</code>改为<code>legacy</code>。然后<code>save and reset</code>后，在bios中就可以看到启动顺序，将u盘设置为第一启动）</p>
<p>接着再改回<code>uefi</code> 并且<code>save and reset</code>，进bios设置u盘第一启动。如果这个时候你看不到u盘选项的话，我这里是按F12打开一个类似于bios的东西（不同电脑不同），它里面有bios选项，也有u盘选项，选中u盘，然后回车装机。</p>
<h2 id="安装ubuntu17-04"><a href="#安装ubuntu17-04" class="headerlink" title="安装ubuntu17.04"></a>安装ubuntu17.04</h2><p>我推荐你使用新版本的<code>Ubuntu</code>，因为在硬件驱动方面，它会好很多。</p>
<p>首先你要把下你的独立显卡，一定要这样做，当然网上有用<code>nomodeset</code>这种方式的，我也尝试了，但是由于某些问题，一开始没弄好，所以如果你的电脑是有<code>核心显卡</code>的或者有亮机卡，我推荐你就我的方法这样做吧。</p>
<p>先将显示器插在<code>核心显卡</code>上，接着装系统。这个时候我们面对一个问题，系统是装在机械硬盘上还是固态硬盘上。我一开始把系统装在固态上，但是开机总是出现<code>boot failure</code>的问题。为什么？<code>PCIe M.2</code>固态硬盘目前驱动方面会有问题，我查到有人在这种固态上成功了安装<code>ubuntu17.04</code>（装<a href="https://community.dell.com/thread/24162-alienware-aurora-r6-booting-linux-on-pcie-m2" target="_blank" rel="noopener">NVME drive is by Liteon</a>，但我不知道怎么去做），但是当时我整个人都很不好，所以没有去尝试。所以你也不想尝试的话，就装在机械上吧。</p>
<p>装<code>Linux</code>系统，如果不清楚各个分区的作用的话，你就选择默认安装选项吧，不要自己去设置各个分区了。接着很顺利的装好了<code>Ubuntu17.04</code>。</p>
<p>进入系统后，你应该先在系统选项中，选择更新中设置更新源是中国服务器，我选择了<code>aliyun</code>。我不推荐你，通过编辑文件的方式修改源（当然你可以这样做），还是让问题更加的简单吧！！！</p>
<p>我推荐你先安装<code>vim</code>，因为我觉得<code>vi</code>不怎么好用</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install vim</span><br></pre></td></tr></table></figure>
<p>接着去禁用nouveau驱动（这是一个开源的驱动，对nvidia显卡不支持）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/modprobe.d/blacklist-nouveau.conf</span><br></pre></td></tr></table></figure>
<p>在后面添加</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">blacklist nouveau</span><br></pre></td></tr></table></figure>
<p>接着更新一下</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo update-initramfs -u</span><br></pre></td></tr></table></figure>
<p><strong>修改之后需要重启系统</strong>。</p>
<p>重启后可以使用以下命令： </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsmod | grep nouveau</span><br></pre></td></tr></table></figure>
<p>如果什么都没有的话，禁用成功。我这里要说的是，大家都这样做了，所以我这样做了，但是如果不禁用会不会有问题，我不知道（有人说没问题）。</p>
<p>先进入文本模式（Ctrl+Alt+F1），接着使用这条指令，添加一个源</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo add-apt-repository ppa:graphics-drivers/ppa</span><br></pre></td></tr></table></figure>
<p>关闭图形化窗口</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service lightdm stop</span><br></pre></td></tr></table></figure>
<p>先更新一下，因为我们添加了一个源</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure>
<p>使用这个命令下载安装驱动（我的显卡是1080ti所以使用384，具体数字自己去查查）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install nvidia-384</span><br></pre></td></tr></table></figure>
<p>安装过程中，可能下载会出现一些问题（突然中断），这个时候，你要等他结束，然后根据错误提示操作（我这里不记得当时的操作是什么了），然后再次使用上面的指令<code>sudo apt-get install nvidia-384</code>。如果没有发生，那就更好了。</p>
<p>装好后，恢复图形环境</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service lightdm start</span><br></pre></td></tr></table></figure>
<p>Ctrl+Alt+F7进入图形界面，关机。</p>
<p>将独立显卡插上，将视屏线插在独显上，开机，这个时候你会发现，系统可以打开了，不再是黑屏。</p>
<p>进入系统后，输入下面指令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvidia-smi</span><br></pre></td></tr></table></figure>
<p>如果没有出现报错，那么恭喜你ubuntu装好了。</p>
<p>我这里还有一个小问题，就是在关机的时候，会卡死在关机界面，关不了机，只能长按电源键关机。怎么解决这个问题，等我搞定了再写。</p>
<p>下一篇讲介绍<a href="">深度学习主机配置：Ubuntu17.04+1080ti+cuda9+cudnn7+tensorflow1.4/1.3</a></p>
<p>如果有任何问题，请及时指出，我不想我的文章对大家造成误导，谢谢！！！^_^</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/index/">index</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Dell/">Dell</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Ubuntu/">Ubuntu</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-2017-11-13-解决office-word-2016-、2013等一直正在启动的问题"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/11/13/2017-11-13-解决office-word-2016-、2013等一直正在启动的问题/">解决office word 2016 、2013等一直正在启动的问题</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2017/11/13/2017-11-13-解决office-word-2016-、2013等一直正在启动的问题/" class="article-date">
	  <time datetime="2017-11-12T16:00:00.000Z" itemprop="datePublished">十一月 13, 2017</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/index/">index</a>
 
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>相信很多人都碰到过这个问题，我当时认为是office损坏问题，卸了重装，结果问题还在。官方给出的解决方法就是重装office，呵呵！！！后来意外发现了这个解决方案。</p>
<p><a href="http://wx4.sinaimg.cn/mw690/af2d2659ly1flg8hddy0ij20n60kkgoa.jpg" data-lightbox="roadtrip" target="_blank" rel="noopener"><br><img src="http://wx4.sinaimg.cn/mw690/af2d2659ly1flg8hddy0ij20n60kkgoa.jpg" class="img-fluid"><br></a></p>
<p>打开任务管理器，关闭其中的<code>spoolsv.exe</code>进程，你会发现word就可以打开了。</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/index/">index</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/office/">office</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/uninstall/">uninstall</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-2017-11-12-使用QT和opencv3.3进行目标检测(YOLO)"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/11/12/2017-11-12-使用QT和opencv3.3进行目标检测(YOLO)/">使用QT和opencv3.3进行目标检测(YOLO)</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2017/11/12/2017-11-12-使用QT和opencv3.3进行目标检测(YOLO)/" class="article-date">
	  <time datetime="2017-11-11T16:00:00.000Z" itemprop="datePublished">十一月 12, 2017</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/python/">python</a>
 
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>这篇文章先放个图，准备有时间写</p>
<p><a href="http://wx4.sinaimg.cn/large/af2d2659ly1fldwa4261og20vw0lgb2j.gif" data-lightbox="roadtrip" target="_blank" rel="noopener"><br><img src="http://wx4.sinaimg.cn/large/af2d2659ly1fldwa4261og20vw0lgb2j.gif" class="img-fluid"><br></a></p>
<p>我这里使用的是YOLO2的方法实现的，没有使用cudnn加速，所以速度上慢了点，不过对于高端的显卡来说，我觉得可以做到视屏级的图片产生速度。并且我这里并没有训练好数据，只是一个测试，但是效果还不错。</p>
<p>据说点赞可以加快编辑进度哦^_^!!!</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/python/">python</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/numpy/">numpy</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/">python</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-2017-11-11-numpy.array切片和索引操作"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/11/11/2017-11-11-numpy.array切片和索引操作/">numpy.array切片和索引操作</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2017/11/11/2017-11-11-numpy.array切片和索引操作/" class="article-date">
	  <time datetime="2017-11-10T16:00:00.000Z" itemprop="datePublished">十一月 11, 2017</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/python/">python</a>
 
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>基本索引操作</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">arr = np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>], [<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]])</span><br><span class="line"><span class="keyword">print</span> arr[<span class="number">2</span>]<span class="comment">#第2行的数组</span></span><br><span class="line"><span class="keyword">print</span> arr[<span class="number">0</span>][<span class="number">2</span>]<span class="comment">#第0行第2列的值</span></span><br><span class="line"><span class="keyword">print</span> arr[<span class="number">0</span>, <span class="number">2</span>] <span class="comment"># 普通Python数组不能用，同上</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[7 8 9]</span><br><span class="line">3</span><br><span class="line">3</span><br></pre></td></tr></table></figure>
<p>切片操作</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">arr = np.array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>], [<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]])</span><br><span class="line"><span class="keyword">print</span> arr[:]<span class="comment">#打印整个3*3数列</span></span><br><span class="line"><span class="keyword">print</span> arr[:<span class="number">2</span>]<span class="comment">#打印0，1行</span></span><br><span class="line"><span class="keyword">print</span> arr[:<span class="number">1</span>, :<span class="number">2</span>]<span class="comment">#打印0行，0，1列</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[[1 2 3]</span><br><span class="line"> [4 5 6]</span><br><span class="line"> [7 8 9]]</span><br><span class="line">[[1 2 3]</span><br><span class="line"> [4 5 6]]</span><br><span class="line">[[1 2]]</span><br></pre></td></tr></table></figure>
<p>布尔型索引</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> numpy.random <span class="keyword">as</span> np_random</span><br><span class="line">name_arr = np.array([<span class="string">'Bob'</span>, <span class="string">'Joe'</span>, <span class="string">'Will'</span>])</span><br><span class="line">rnd_arr = np_random.randn(<span class="number">3</span>, <span class="number">3</span>) 	    <span class="comment"># 随机3*3数组</span></span><br><span class="line"><span class="keyword">print</span> name_arr == <span class="string">'Bob'</span> 			   <span class="comment"># 返回布尔数组，元素等于'Bob'为True，否则False。</span></span><br><span class="line"><span class="keyword">print</span> rnd_arr[name_arr == <span class="string">'Bob'</span>]  		<span class="comment"># 利用布尔数组选择行，第0行</span></span><br><span class="line"><span class="keyword">print</span> rnd_arr[name_arr == <span class="string">'Bob'</span>, :<span class="number">2</span>]  	<span class="comment"># 增加限制打印列的范围，第0行 前2列</span></span><br><span class="line"><span class="keyword">print</span> rnd_arr[~(name_arr == <span class="string">'Bob'</span>)] 	<span class="comment"># 对布尔数组的内容取反，第1，2列</span></span><br><span class="line"><span class="keyword">print</span> rnd_arr[(name_arr == <span class="string">'Bob'</span>) | (name_arr == <span class="string">'Will'</span>)] <span class="comment"># 逻辑运算混合结果</span></span><br><span class="line">rnd_arr[name_arr != <span class="string">'Joe'</span>] = <span class="number">7</span>  		<span class="comment"># 先布尔数组选择行，然后把每行的元素设置为7。</span></span><br><span class="line"><span class="keyword">print</span> rnd_arr</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[[-0.09102884 -0.09452611  1.42854702]</span><br><span class="line"> [ 2.15963354  0.24216261 -2.26044752]</span><br><span class="line"> [-0.72741325 -1.085561    0.54600936]]</span><br><span class="line">[ True False False]</span><br><span class="line">[[-0.09102884 -0.09452611  1.42854702]]</span><br><span class="line">[[-0.09102884 -0.09452611]]</span><br><span class="line">[[ 2.15963354  0.24216261 -2.26044752]</span><br><span class="line"> [-0.72741325 -1.085561    0.54600936]]</span><br><span class="line">[[-0.09102884 -0.09452611  1.42854702]</span><br><span class="line"> [-0.72741325 -1.085561    0.54600936]]</span><br><span class="line">[[ 7.          7.          7.        ]</span><br><span class="line"> [ 2.15963354  0.24216261 -2.26044752]</span><br><span class="line"> [ 7.          7.          7.        ]]</span><br></pre></td></tr></table></figure>
<p>花式索引（Fancy indexing）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">arr = np_random.randn(<span class="number">3</span>, <span class="number">3</span>) 	    <span class="comment"># 随机3*3数组</span></span><br><span class="line"><span class="keyword">print</span> arr</span><br><span class="line"><span class="keyword">print</span> arr[[<span class="number">1</span>, <span class="number">-1</span>]]<span class="comment"># 打印arr[1],a[-1]行</span></span><br><span class="line"><span class="keyword">print</span> arr[[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">0</span>, <span class="number">1</span>]]<span class="comment">#打印a[0, 0],a[1, 1]</span></span><br><span class="line"><span class="keyword">print</span> arr[[<span class="number">0</span>, <span class="number">1</span>]][:, [<span class="number">1</span>, <span class="number">2</span>]]<span class="comment">#打印0,1行的1,2列</span></span><br><span class="line"><span class="keyword">print</span> arr[:<span class="number">2</span>, [<span class="number">1</span>,<span class="number">2</span>]]<span class="comment">#同上</span></span><br><span class="line"><span class="keyword">print</span> arr[np.ix_([<span class="number">0</span>, <span class="number">1</span>], [<span class="number">1</span>, <span class="number">2</span>])]<span class="comment">#同上，最清楚的写法</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[[-0.60100046 -0.16245393  0.04618795]</span><br><span class="line"> [-0.05029884 -1.43052367 -0.91403785]</span><br><span class="line"> [-1.445763   -1.4240193  -0.79258699]]</span><br><span class="line">[[-0.05029884 -1.43052367 -0.91403785]</span><br><span class="line"> [-1.445763   -1.4240193  -0.79258699]]</span><br><span class="line">[-0.60100046 -1.43052367]</span><br><span class="line">[[-0.16245393  0.04618795]</span><br><span class="line"> [-1.43052367 -0.91403785]]</span><br><span class="line">[[-0.16245393  0.04618795]</span><br><span class="line"> [-1.43052367 -0.91403785]]</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/python/">python</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/numpy/">numpy</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/">python</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-2017-11-10-如何有效地卸载office"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/11/10/2017-11-10-如何有效地卸载office/">如何有效地卸载office</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2017/11/10/2017-11-10-如何有效地卸载office/" class="article-date">
	  <time datetime="2017-11-09T16:00:00.000Z" itemprop="datePublished">十一月 10, 2017</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/index/">index</a>
 
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>在平时office的卸载时经常出现一些论七八糟的问题。</p>
<p>这里给出一个统一的答案，就是使用官方的<a href="https://support.office.com/en-us/article/Uninstall-Office-from-a-PC-9dd49b83-264a-477a-8fcc-2fdf5dbf61d8?ui=en-US&amp;rs=en-US&amp;ad=US#OfficeVersion=____________2016" target="_blank" rel="noopener">卸载工具</a></p>
<p><a href="http://wx4.sinaimg.cn/mw690/af2d2659ly1flbm2gr17ij20s20ec0tu.jpg" data-lightbox="roadtrip" target="_blank" rel="noopener"><br><img src="http://wx4.sinaimg.cn/mw690/af2d2659ly1flbm2gr17ij20s20ec0tu.jpg" class="img-fluid"><br></a></p>
<p>下载完按步骤操作即可，这时候你只要开着电脑，泡杯咖啡，等它卸载完成。最后要记得重启电脑。^_^!!!</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/index/">index</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/office/">office</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/uninstall/">uninstall</a></li></ul>

      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
</article>

<!-- Table of Contents -->

  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/">上一页</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/17/">17</a><a class="extend next" rel="next" href="/page/3/">下一页</a>
  </nav>

</section>
          <aside id="sidebar">
  
    <div style="margin: 20px 0;">
	<div id="search-form-wrap">

    <form class="search-form">
        <label style="width: 72%;">
            <span class="screen-reader-text">Search for:</span>
            <input type="search" class="search-field" style="height: 36px; width: 100%;" placeholder=" 搜索…" value="" name="s" title="Search for:">
        </label>
        <input type="submit" class="search-form-submit" value="搜索">
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="请输入关键词..."/>
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(无标题)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
</div>
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">联系我们</h3>
    <div class="widget widget_athemes_social_icons">

    	<ul class="clearfix widget-social-icons">   
    	
   			<li><a href="https://github.com/iTimeTraveler" title="Github"><i class="fa fa-github" aria-hidden="true"></i></a></li> 

   		
   			<li><a href="" title="Weibo"><i class="fa fa-weibo" aria-hidden="true"></i></a></li> 

   		
   			<li><a href="" title="Twitter"><i class="fa fa-twitter" aria-hidden="true"></i></a></li> 

   		
   			<li><a href="" title="Facebook"><i class="fa fa-facebook" aria-hidden="true"></i></a></li> 

   		
   			<li><a href="" title="Google-plus"><i class="fa fa-google-plus" aria-hidden="true"></i></a></li> 

   		
   			<li><a href="" title="Instagram"><i class="fa fa-instagram" aria-hidden="true"></i></a></li> 

   		
   		</ul>


   		<!--
   		<ul class="clearfix widget-social-icons">   		
   		<li class="widget-si-twitter"><a href="http://twitter.com" title="Twitter"><i class="ico-twitter"></i></a></li> 
		<li class="widget-si-facebook"><a href="http://facebook.com" title="Facebook"><i class="ico-facebook"></i></a></li>
			<li class="widget-si-gplus"><a href="http://plus.google.com" title="Google+"><i class="ico-gplus"></i></a></li>
			<li class="widget-si-pinterest"><a href="http://pinterest.com" title="Pinterest"><i class="ico-pinterest"></i></a></li>
			<li class="widget-si-flickr"><a href="http://flickr.com" title="Flickr"><i class="ico-flickr"></i></a></li>
			<li class="widget-si-instagram"><a href="http://instagram.com" title="Instagram"><i class="ico-instagram"></i></a></li>
		</ul> -->

    </div>
  </div>


  
    
  <div class="widget_athemes_tabs">
    <ul id="widget-tab" class="clearfix widget-tab-nav">
      <li class="active"><a>最新文章</a></li>
    </ul>
    <div class="widget">
      <ul>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2017/12/20/2017-12-20-YOLOv2代码分析（四）/">YOLOv2代码分析（四）</a></h6>
              <span>十二月 20, 2017</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2017/12/19/2017-12-19-YOLOv2代码分析（三）/">YOLOv2代码分析（三）</a></h6>
              <span>十二月 19, 2017</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2017/12/17/2017-12-17-YOLOv2代码分析（二）/">YOLOv2代码分析（二）</a></h6>
              <span>十二月 17, 2017</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2017/12/16/2017-12-16-YOLOv2代码分析（一）/">YOLOv2代码分析（一）</a></h6>
              <span>十二月 16, 2017</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2017/12/15/2017-12-15-目标检测中的IOU计算问题/">目标检测中的IOU计算问题</a></h6>
              <span>十二月 15, 2017</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2017/12/13/2017-12-13-tf.identity的作用/">tf.identity的作用</a></h6>
              <span>十二月 13, 2017</span>
            </div>

          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Database/">Database</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/QT/">QT</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/asp/">asp</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/c/">c</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/cpp/">cpp</a><span class="category-list-count">77</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/index/">index</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a><span class="category-list-count">12</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/toy/">toy</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/信息安全/">信息安全</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/图像处理/">图像处理</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/机器学习/">机器学习</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/算法/">算法</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/计算机系统原理/">计算机系统原理</a><span class="category-list-count">11</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/计算机网络/">计算机网络</a><span class="category-list-count">2</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/1080ti/">1080ti</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Aggregate/">Aggregate</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Dell/">Dell</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Eassy/">Eassy</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Eval/">Eval</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Execute/">Execute</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ExecuteGlobal/">ExecuteGlobal</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Fibonacci/">Fibonacci</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IOU/">IOU</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kolakoski/">Kolakoski</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MNIST/">MNIST</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/">MySQL</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PIL/">PIL</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/POD/">POD</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/QT/">QT</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ubuntu/">Ubuntu</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/YOLO/">YOLO</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/acm/">acm</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/advance/">advance</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/algorithm/">algorithm</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/array/">array</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/asp/">asp</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/auto/">auto</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/auto/">auto&</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/auto/">auto&&</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/binding/">binding</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/c/">c</a><span class="tag-list-count">15</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/c/">c#</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cin/">cin</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/constexpr/">constexpr</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cpp/">cpp</a><span class="tag-list-count">90</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cpp标准库/">cpp标准库</a><span class="tag-list-count">15</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cpp第二版/">cpp第二版</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cuda/">cuda</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cudnn/">cudnn</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/darknet/">darknet</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dd/">dd</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/default/">default</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/downcasting/">downcasting</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/error/">error</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/estimator/">estimator</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/forward/">forward</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/game/">game</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/glvalue/">glvalue</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hook/">hook</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/identity/">identity</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lambda/">lambda</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lvalue/">lvalue</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/map/">map</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mismatch/">mismatch</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/move/">move</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/">mysql</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/namehiding/">namehiding</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/network/">network</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/next/">next</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/notes/">notes</a><span class="tag-list-count">29</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/numpy/">numpy</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/office/">office</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/oj/">oj</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/opencv/">opencv</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/oracle/">oracle</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/overload/">overload</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/override/">override</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/php/">php</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/piecewise-construct/">piecewise_construct</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pip/">pip</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pipe/">pipe</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/process/">process</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/prvalue/">prvalue</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pytesseract/">pytesseract</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a><span class="tag-list-count">26</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/qt/">qt</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/quit/">quit</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/re/">re</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/requests/">requests</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rvalue/">rvalue</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shell/">shell</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/signal/">signal</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sql/">sql</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sql注入/">sql注入</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/stl/">stl</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tensorflow/">tensorflow</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/thread/">thread</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/threading/">threading</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/trie树/">trie树</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/uninstall/">uninstall</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/unordered-multimap/">unordered_multimap</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/upcasting/">upcasting</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vbs/">vbs</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vector/">vector</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vfptr/">vfptr</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vmware/">vmware</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/wait/">wait</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/xlvalue/">xlvalue</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/人工智能/">人工智能</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/仿函数/">仿函数</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/内存模型/">内存模型</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/决策树算法/">决策树算法</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/分配器/">分配器</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/原理/">原理</a><span class="tag-list-count">15</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/反斜杠/">反斜杠</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/回文字符串/">回文字符串</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/多态/">多态</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/字典树/">字典树</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/引用折叠/">引用折叠</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/排列组合/">排列组合</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/木马/">木马</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/机器学习/">机器学习</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/模式识别/">模式识别</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/正则表达式/">正则表达式</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/深度学习/">深度学习</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/漏洞/">漏洞</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/病毒/">病毒</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/笔试/">笔试</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法/">算法</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/缓冲区溢出/">缓冲区溢出</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/计算机网络/">计算机网络</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/贪吃蛇/">贪吃蛇</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/贪心算法/">贪心算法</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/转载/">转载</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/迭代器/">迭代器</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/适配器/">适配器</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/1080ti/" style="font-size: 10.83px;">1080ti</a> <a href="/tags/Aggregate/" style="font-size: 10px;">Aggregate</a> <a href="/tags/Dell/" style="font-size: 11.67px;">Dell</a> <a href="/tags/Eassy/" style="font-size: 11.67px;">Eassy</a> <a href="/tags/Eval/" style="font-size: 10px;">Eval</a> <a href="/tags/Execute/" style="font-size: 10px;">Execute</a> <a href="/tags/ExecuteGlobal/" style="font-size: 10px;">ExecuteGlobal</a> <a href="/tags/Fibonacci/" style="font-size: 10px;">Fibonacci</a> <a href="/tags/IOU/" style="font-size: 10px;">IOU</a> <a href="/tags/Kolakoski/" style="font-size: 10px;">Kolakoski</a> <a href="/tags/MNIST/" style="font-size: 10.83px;">MNIST</a> <a href="/tags/MySQL/" style="font-size: 10.83px;">MySQL</a> <a href="/tags/PIL/" style="font-size: 10px;">PIL</a> <a href="/tags/POD/" style="font-size: 10px;">POD</a> <a href="/tags/QT/" style="font-size: 11.67px;">QT</a> <a href="/tags/Ubuntu/" style="font-size: 11.67px;">Ubuntu</a> <a href="/tags/YOLO/" style="font-size: 12.5px;">YOLO</a> <a href="/tags/acm/" style="font-size: 10px;">acm</a> <a href="/tags/advance/" style="font-size: 10px;">advance</a> <a href="/tags/algorithm/" style="font-size: 10px;">algorithm</a> <a href="/tags/array/" style="font-size: 10px;">array</a> <a href="/tags/asp/" style="font-size: 10px;">asp</a> <a href="/tags/auto/" style="font-size: 10.83px;">auto</a> <a href="/tags/auto/" style="font-size: 10px;">auto&</a> <a href="/tags/auto/" style="font-size: 10px;">auto&&</a> <a href="/tags/binding/" style="font-size: 10px;">binding</a> <a href="/tags/c/" style="font-size: 17.5px;">c</a> <a href="/tags/c/" style="font-size: 10px;">c#</a> <a href="/tags/cin/" style="font-size: 10px;">cin</a> <a href="/tags/constexpr/" style="font-size: 10px;">constexpr</a> <a href="/tags/cpp/" style="font-size: 20px;">cpp</a> <a href="/tags/cpp标准库/" style="font-size: 17.5px;">cpp标准库</a> <a href="/tags/cpp第二版/" style="font-size: 11.67px;">cpp第二版</a> <a href="/tags/cuda/" style="font-size: 10.83px;">cuda</a> <a href="/tags/cudnn/" style="font-size: 10.83px;">cudnn</a> <a href="/tags/darknet/" style="font-size: 12.5px;">darknet</a> <a href="/tags/dd/" style="font-size: 10px;">dd</a> <a href="/tags/default/" style="font-size: 10px;">default</a> <a href="/tags/downcasting/" style="font-size: 10px;">downcasting</a> <a href="/tags/error/" style="font-size: 11.67px;">error</a> <a href="/tags/estimator/" style="font-size: 11.67px;">estimator</a> <a href="/tags/forward/" style="font-size: 10px;">forward</a> <a href="/tags/game/" style="font-size: 10px;">game</a> <a href="/tags/glvalue/" style="font-size: 10px;">glvalue</a> <a href="/tags/hook/" style="font-size: 10px;">hook</a> <a href="/tags/identity/" style="font-size: 10px;">identity</a> <a href="/tags/lambda/" style="font-size: 10px;">lambda</a> <a href="/tags/linux/" style="font-size: 16.67px;">linux</a> <a href="/tags/lvalue/" style="font-size: 10px;">lvalue</a> <a href="/tags/map/" style="font-size: 10px;">map</a> <a href="/tags/mismatch/" style="font-size: 10px;">mismatch</a> <a href="/tags/move/" style="font-size: 10px;">move</a> <a href="/tags/mysql/" style="font-size: 10px;">mysql</a> <a href="/tags/namehiding/" style="font-size: 10.83px;">namehiding</a> <a href="/tags/network/" style="font-size: 12.5px;">network</a> <a href="/tags/next/" style="font-size: 10px;">next</a> <a href="/tags/notes/" style="font-size: 19.17px;">notes</a> <a href="/tags/numpy/" style="font-size: 12.5px;">numpy</a> <a href="/tags/office/" style="font-size: 10.83px;">office</a> <a href="/tags/oj/" style="font-size: 10px;">oj</a> <a href="/tags/opencv/" style="font-size: 14.17px;">opencv</a> <a href="/tags/oracle/" style="font-size: 10.83px;">oracle</a> <a href="/tags/overload/" style="font-size: 10.83px;">overload</a> <a href="/tags/override/" style="font-size: 10.83px;">override</a> <a href="/tags/php/" style="font-size: 10px;">php</a> <a href="/tags/piecewise-construct/" style="font-size: 10px;">piecewise_construct</a> <a href="/tags/pip/" style="font-size: 10px;">pip</a> <a href="/tags/pipe/" style="font-size: 10.83px;">pipe</a> <a href="/tags/process/" style="font-size: 10px;">process</a> <a href="/tags/prvalue/" style="font-size: 10px;">prvalue</a> <a href="/tags/pytesseract/" style="font-size: 10px;">pytesseract</a> <a href="/tags/python/" style="font-size: 18.33px;">python</a> <a href="/tags/qt/" style="font-size: 13.33px;">qt</a> <a href="/tags/quit/" style="font-size: 10px;">quit</a> <a href="/tags/re/" style="font-size: 11.67px;">re</a> <a href="/tags/requests/" style="font-size: 10.83px;">requests</a> <a href="/tags/rvalue/" style="font-size: 10px;">rvalue</a> <a href="/tags/shell/" style="font-size: 10px;">shell</a> <a href="/tags/signal/" style="font-size: 10.83px;">signal</a> <a href="/tags/sql/" style="font-size: 10.83px;">sql</a> <a href="/tags/sql注入/" style="font-size: 10px;">sql注入</a> <a href="/tags/stl/" style="font-size: 16.67px;">stl</a> <a href="/tags/tensorflow/" style="font-size: 15px;">tensorflow</a> <a href="/tags/thread/" style="font-size: 10.83px;">thread</a> <a href="/tags/threading/" style="font-size: 10px;">threading</a> <a href="/tags/trie树/" style="font-size: 10px;">trie树</a> <a href="/tags/uninstall/" style="font-size: 10.83px;">uninstall</a> <a href="/tags/unordered-multimap/" style="font-size: 10px;">unordered_multimap</a> <a href="/tags/upcasting/" style="font-size: 10px;">upcasting</a> <a href="/tags/vbs/" style="font-size: 10px;">vbs</a> <a href="/tags/vector/" style="font-size: 10px;">vector</a> <a href="/tags/vfptr/" style="font-size: 10px;">vfptr</a> <a href="/tags/vmware/" style="font-size: 10px;">vmware</a> <a href="/tags/wait/" style="font-size: 10px;">wait</a> <a href="/tags/xlvalue/" style="font-size: 10px;">xlvalue</a> <a href="/tags/人工智能/" style="font-size: 10px;">人工智能</a> <a href="/tags/仿函数/" style="font-size: 10px;">仿函数</a> <a href="/tags/内存模型/" style="font-size: 10px;">内存模型</a> <a href="/tags/决策树算法/" style="font-size: 10px;">决策树算法</a> <a href="/tags/分配器/" style="font-size: 10px;">分配器</a> <a href="/tags/原理/" style="font-size: 17.5px;">原理</a> <a href="/tags/反斜杠/" style="font-size: 10px;">反斜杠</a> <a href="/tags/回文字符串/" style="font-size: 10px;">回文字符串</a> <a href="/tags/多态/" style="font-size: 10px;">多态</a> <a href="/tags/字典树/" style="font-size: 10px;">字典树</a> <a href="/tags/引用折叠/" style="font-size: 10px;">引用折叠</a> <a href="/tags/排列组合/" style="font-size: 10px;">排列组合</a> <a href="/tags/木马/" style="font-size: 10px;">木马</a> <a href="/tags/机器学习/" style="font-size: 10.83px;">机器学习</a> <a href="/tags/模式识别/" style="font-size: 10px;">模式识别</a> <a href="/tags/正则表达式/" style="font-size: 10px;">正则表达式</a> <a href="/tags/深度学习/" style="font-size: 10px;">深度学习</a> <a href="/tags/漏洞/" style="font-size: 10px;">漏洞</a> <a href="/tags/病毒/" style="font-size: 10px;">病毒</a> <a href="/tags/笔试/" style="font-size: 11.67px;">笔试</a> <a href="/tags/算法/" style="font-size: 13.33px;">算法</a> <a href="/tags/缓冲区溢出/" style="font-size: 10px;">缓冲区溢出</a> <a href="/tags/计算机网络/" style="font-size: 10.83px;">计算机网络</a> <a href="/tags/贪吃蛇/" style="font-size: 10px;">贪吃蛇</a> <a href="/tags/贪心算法/" style="font-size: 10px;">贪心算法</a> <a href="/tags/转载/" style="font-size: 15.83px;">转载</a> <a href="/tags/迭代器/" style="font-size: 12.5px;">迭代器</a> <a href="/tags/适配器/" style="font-size: 10px;">适配器</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>

    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">十二月 2017</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">十一月 2017</a><span class="archive-list-count">15</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">十月 2017</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a><span class="archive-list-count">19</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">七月 2017</a><span class="archive-list-count">20</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">六月 2017</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">五月 2017</a><span class="archive-list-count">21</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">四月 2017</a><span class="archive-list-count">27</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a><span class="archive-list-count">21</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>


  
</aside>
        
      </div>

    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/categories" class="mobile-nav-link">Categories</a>
  
    <a href="/tags" class="mobile-nav-link">Tags</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav> -->
    <footer id="footer" class="site-footer">
  

  <div class="clearfix container">
      <div class="site-info">
	      &copy; 2018 coordinate All Rights Reserved.
        
            <span id="busuanzi_container_site_uv">
              本站访客数<span id="busuanzi_value_site_uv"></span>人次  
              本站总访问量<span id="busuanzi_value_site_pv"></span>次
            </span>
          
      </div>
  </div>
</footer>


<!-- min height -->

<script>
    var wrapdiv = document.getElementById("wrap");
    var contentdiv = document.getElementById("content");

    wrapdiv.style.minHeight = document.body.offsetHeight - document.getElementById("allheader").offsetHeight - document.getElementById("footer").offsetHeight + "px";
    contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("allheader").offsetHeight - document.getElementById("footer").offsetHeight + "px";


    <!-- headerblur min height -->
    
      var headerblur = document.getElementById("header-blur");
      headerblur.style.minHeight = window.getComputedStyle(document.getElementById("allheader"), null).height;
    
    
</script>
    
<div style="display: none;">
  <script src="https://s11.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
</div>

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>
<script src="/js/bootstrap.js"></script>
<script src="/js/main.js"></script>







  <div style="display: none;">
    <script src="https://s95.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
  </div>



	<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
	</script>






  </div>

  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js" async=""></script>
</body>
</html>
